<div class="panel panel-level-2" id="antenna_{{index}}">
  <div class="panel-heading" [ngClass]="{'panel-level-2-dirty': antenna.dateDeleted}">
    <span class="panel-title cursor-ptr"
          (click)="isOpen = miscUtils.scrollIntoView($event, isOpen)">
      <i class="glyphicon"
         [ngClass]="{'glyphicon-minus-sign': isOpen, 'glyphicon-plus-sign': !isOpen}">
      </i>
      <span *ngIf="index == 0">
        <span class="hidden-xsm">Current </span>
        <span class="hidden-xxs">Antenna (</span>
        Since {{ miscUtils.getDate(antenna.dateInstalled) }}
        <span class="hidden-xxs">)</span>
      </span>
      <span *ngIf="index != 0">
        <span class="hidden-xsm">Previous </span>
        <span class="hidden-xxs">Antenna (</span>
        {{ miscUtils.getDate(antenna.dateInstalled) }}
        &ndash; {{ miscUtils.getDate(antenna.dateRemoved) }}
        <span class="hidden-xxs">)</span>
      </span>
    </span>
    <span *ngIf="antenna.dateDeleted" class="delete-marker"
        title="It will be deleted when saving all changes for the site">
        (Marked to delete)
    </span>
    <span class="pull-right">
      <button [disabled]="antenna.dateDeleted"
              class="btn btn-danger btn-rm"
              title="{{getRemoveOrDeletedText()}} the GNSS antenna"
              (click)="removeItem(index)">
        <i class="glyphicon glyphicon-remove"></i>
        <span class="hidden-xs">{{getRemoveOrDeletedText()}}</span>
      </button>
    </span>
  </div>
  <div class="panel-body" *ngIf="isOpen">
    <div class="margin-bottom15" *ngIf=" antenna == null ">
      No information available for current GNSS Antenna
    </div>
    <div *ngIf="antenna != null" [ngClass]="{'container-dirty': antenna.dateDeleted}">
      <div class="form-group">
        <label class="col-md-4 col-sm-4 col-xs-5 col-xxs-12 control-label">Antenna Type</label>
        <div class="col-md-5 col-sm-6 col-xs-6 col-xxs-12">
          <input type="text" maxlength="100"
                 class="form-control"
                 [(ngModel)]="antenna.antennaType"
                 name="antennaType_{{index}}"/>
        </div>
      </div>
      <div class="form-group">
        <label class="col-md-4 col-sm-4 col-xs-5 col-xxs-12 control-label">Serial Number</label>
        <div class="col-md-5 col-sm-6 col-xs-6 col-xxs-12">
          <input type="text" maxlength="100"
                 class="form-control"
                 [(ngModel)]="antenna.serialNumber"
                 name="antennaSerialNumber_{{index}}"/>
        </div>
      </div>
      <div class="form-group">
        <label class="col-md-4 col-sm-4 col-xs-5 col-xxs-12 control-label">Antenna Reference Point</label>
        <div class="col-md-5 col-sm-6 col-xs-6 col-xxs-12">
          <input type="text" maxlength="100"
                 class="form-control"
                 [(ngModel)]="antenna.antennaReferencePoint"
                 name="antennaReferencePoint_{{index}}"/>
        </div>
      </div>
      <div class="form-group">
        <label class="col-md-4 col-sm-4 col-xs-5 col-xxs-12 control-label">Marker ARP Up Eccentricity (m)</label>
        <div class="col-md-5 col-sm-6 col-xs-6 col-xxs-12">
          <input type="number" step="0.0001" min="0.0000"
                 class="form-control"
                 [(ngModel)]="antenna.markerArpUpEcc"
                 name="antennaMarkerArpUpEcc_{{index}}"
          />
        </div>
      </div>
      <div class="form-group">
        <label class="col-md-4 col-sm-4 col-xs-5 col-xxs-12 control-label">Marker ARP North Eccentricity (m)</label>
        <div class="col-md-5 col-sm-6 col-xs-6 col-xxs-12">
          <input type="number" step="0.0001" min="0.0000"
                 class="form-control"
                 [(ngModel)]="antenna.markerArpNorthEcc"
                 name="antennaMarkerArpNorthEcc_{{index}}"/>
        </div>
      </div>
      <div class="form-group">
        <label class="col-md-4 col-sm-4 col-xs-5 col-xxs-12 control-label">Marker ARP East Eccentricity (m)</label>
        <div class="col-md-5 col-sm-6 col-xs-6 col-xxs-12">
          <input type="number" step="0.0001" min="0.0000"
                 class="form-control"
                 [(ngModel)]="antenna.markerArpEastEcc"
                 name="antennaMarkerArpEastEcc_{{index}}"/>
        </div>
      </div>
      <div class="form-group">
        <label class="col-md-4 col-sm-4 col-xs-5 col-xxs-12 control-label">Alignment From True North (degrees)</label>
        <div class="col-md-5 col-sm-6 col-xs-6 col-xxs-12">
          <input type="number" step="1" min="-359" max="359"
                 class="form-control"
                 [(ngModel)]="antenna.alignmentFromTrueNorth"
                 name="antennaAlignmentFromTrueNorth_{{index}}"/>
        </div>
      </div>
      <div class="form-group">
        <label class="col-md-4 col-sm-4 col-xs-5 col-xxs-12 control-label">Radome Type</label>
        <div class="col-md-5 col-sm-6 col-xs-6 col-xxs-12">
          <input type="text" maxlength="100"
                 class="form-control"
                 [(ngModel)]="antenna.antennaRadomeType"
                 name="antennaRadomeType_{{index}}"/>
        </div>
      </div>
      <div class="form-group">
        <label class="col-md-4 col-sm-4 col-xs-5 col-xxs-12 control-label">Radome Serial Number</label>
        <div class="col-md-5 col-sm-6 col-xs-6 col-xxs-12">
          <input type="text" maxlength="100"
                 class="form-control"
                 [(ngModel)]="antenna.radomeSerialNumber"
                 name="antennaRadomeSerialNumber_{{index}}"/>
        </div>
      </div>
      <div class="form-group">
        <label class="col-md-4 col-sm-4 col-xs-5 col-xxs-12 control-label">Antenna Cable Type</label>
        <div class="col-md-5 col-sm-6 col-xs-6 col-xxs-12">
          <input type="text" maxlength="100"
                 class="form-control"
                 [(ngModel)]="antenna.antennaCableType"
                 name="antennaCableType_{{index}}"/>
        </div>
      </div>
      <div class="form-group">
        <label class="col-md-4 col-sm-4 col-xs-5 col-xxs-12 control-label">Antenna Cable Length (m)</label>
        <div class="col-md-5 col-sm-6 col-xs-6 col-xxs-12">
          <input type="number" step="0.01" min="0"
                 class="form-control"
                 [(ngModel)]="antenna.antennaCableLength"
                 name="antennaCableLength_{{index}}"/>
        </div>
      </div>

        <datetime-input
            [(datetime)]="antenna.dateInstalled"
            [name]=" 'dateInstalled' "
            [index]="[index]"
            [required]="true"
            [label]="'Date Installed (UTC)'">
        </datetime-input>

        <datetime-input
            [(datetime)]="antenna.dateRemoved"
            [name]=" 'dateRemoved' "
            [index]="[index]"
            [requiredIfNotCurrent]="true"
            [label]="'Date Removed (UTC)'">
        </datetime-input>

      <div class="form-group">
        <label class="col-md-4 col-sm-4 col-xs-5 col-xxs-12 control-label">Notes</label>
        <div class="col-md-8 col-sm-8 col-xs-7 col-xxs-12">
          <textarea maxlength="2000" rows="2" class="form-textarea"
                    [(ngModel)]="antenna.notes"
                    name="antennaNotes_{{index}}"></textarea>
        </div>
      </div>
    </div>
  </div>
</div>
